// ═══════════════════════════════════════════════════════════════════════════════
// WARM & FRIENDLY THEME
// A refined, comfortable design system optimized for long reading sessions
// Supports both light and dark modes with smooth transitions
// ═══════════════════════════════════════════════════════════════════════════════

// ─────────────────────────────────────────────────────────────────────────────────
// CSS CUSTOM PROPERTIES (CSS Variables)
// These enable runtime theme switching without page reload
// ─────────────────────────────────────────────────────────────────────────────────

:root {
  // ═══════════════════════════════════════════════════════════════════════════════
  // LIGHT MODE (Default)
  // Warm paper tones with terracotta and sage accents
  // ═══════════════════════════════════════════════════════════════════════════════

  // Backgrounds - Warm paper tones
  --warm-bg-primary: #fffbf7;
  --warm-bg-secondary: #fef7f0;
  --warm-bg-tertiary: #fff9f2;
  --warm-bg-accent: #fdf4e8;
  --warm-bg-elevated: #ffffff;
  --warm-bg-inverse: #3d3d3d;

  // Text - Warm grays for reduced eye strain
  --warm-text-primary: #3d3d3d;
  --warm-text-secondary: #5c5c5c;
  --warm-text-muted: #6b6b6b;
  --warm-text-heading: #2d2d2d;
  --warm-text-inverse: #f5f5f5;

  // Accent colors - Warm, friendly palette
  --warm-accent-primary: #e07a5f; // Terracotta
  --warm-accent-primary-hover: #c96a52;
  --warm-accent-secondary: #81b29a; // Sage
  --warm-accent-secondary-hover: #6fa089;
  --warm-accent-tertiary: #f2cc8f; // Gold
  --warm-accent-soft: #f4a261; // Orange

  // Semantic colors
  --warm-danger: #d95550;
  --warm-danger-bg: #fef2f2;
  --warm-warning: #e9a820;
  --warm-warning-bg: #fffbeb;
  --warm-success: #81b29a;
  --warm-success-bg: #f0fdf4;
  --warm-info: #6fa8c7;
  --warm-info-bg: #eff6ff;
  --warm-warning-text: #a07415;
  --warm-success-text: #4d7d62;
  --warm-info-text: #3b7a9e;
  --warm-secondary: #3d3d3d;
  --warm-secondary-hover: #2d2d2d;

  // Borders & Dividers
  --warm-border-color: rgba(61, 45, 35, 0.12);
  --warm-border-strong: rgba(61, 45, 35, 0.2);
  --warm-border-focus: rgba(224, 122, 95, 0.5);
  --warm-divider: rgba(61, 45, 35, 0.08);

  // Shadows - Warm-tinted for cohesion
  --warm-shadow-color: rgba(61, 45, 35, 0.08);
  --warm-shadow-color-medium: rgba(61, 45, 35, 0.12);
  --warm-shadow-color-strong: rgba(61, 45, 35, 0.16);

  // Component-specific
  --warm-input-bg: #ffffff;
  --warm-input-border: rgba(61, 45, 35, 0.2);
  --warm-input-focus-border: #e07a5f;
  --warm-input-focus-ring: rgba(224, 122, 95, 0.25);

  --warm-card-bg: #ffffff;
  --warm-card-border: rgba(61, 45, 35, 0.08);

  --warm-modal-overlay: rgba(45, 45, 45, 0.5);
  --warm-modal-bg: #ffffff;

  --warm-navbar-bg: #fffbf7;
  --warm-navbar-border: rgba(61, 45, 35, 0.1);

  --warm-footer-bg: #3d3d3d;
  --warm-footer-text: #f5f5f5;
  --warm-footer-muted: #c0c0c0;

  // Chart colors
  --warm-chart-1: #e07a5f;
  --warm-chart-2: #81b29a;
  --warm-chart-3: #f2cc8f;
  --warm-chart-4: #f4a261;
  --warm-chart-5: #6fa8c7;
  --warm-chart-6: #c4a1d4;
  --warm-chart-grid: rgba(61, 45, 35, 0.08);
  --warm-chart-text: #5c5c5c;

  // Code/monospace
  --warm-code-bg: #fef7f0;
  --warm-code-text: #3d3d3d;
  --warm-code-border: rgba(61, 45, 35, 0.12);

  // Table
  --warm-table-stripe: rgba(61, 45, 35, 0.03);
  --warm-table-hover: rgba(61, 45, 35, 0.06);
  --warm-table-border: rgba(61, 45, 35, 0.1);

  // Scrollbar
  --warm-scrollbar-track: #fef7f0;
  --warm-scrollbar-thumb: rgba(61, 45, 35, 0.2);
  --warm-scrollbar-thumb-hover: rgba(61, 45, 35, 0.35);

  // Button/badge text on accent backgrounds (white for contrast in both modes)
  --warm-btn-contrast-text: #ffffff;

  // Spinner
  --warm-spinner-track: rgba(61, 45, 35, 0.15);

  // Transitions
  --theme-transition:
    background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease,
    box-shadow 0.3s ease, fill 0.3s ease, stroke 0.3s ease;
}

// ═══════════════════════════════════════════════════════════════════════════════
// DARK MODE - System Preference Detection
// Automatically activates when user's OS is set to dark mode
// Can be overridden by manual [data-theme="light"] attribute
// ═══════════════════════════════════════════════════════════════════════════════

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    // Backgrounds - Warm dark tones (not pure black)
    --warm-bg-primary: #1a1816;
    --warm-bg-secondary: #231f1d;
    --warm-bg-tertiary: #2a2523;
    --warm-bg-accent: #332d2a;
    --warm-bg-elevated: #3a3331;
    --warm-bg-inverse: #f5f2f0;

    // Text - Comfortable for dark backgrounds
    --warm-text-primary: #e8e4e1;
    --warm-text-secondary: #b8b2ad;
    --warm-text-muted: #9a9490;
    --warm-text-heading: #f5f2f0;
    --warm-text-inverse: #1a1816;

    // Accent colors - Lightened for dark mode contrast
    --warm-accent-primary: #e8937b;
    --warm-accent-primary-hover: #f0a892;
    --warm-accent-secondary: #95c4ad;
    --warm-accent-secondary-hover: #a8d4be;
    --warm-accent-tertiary: #f5d9a8;
    --warm-accent-soft: #f7b57d;

    // Semantic colors - Adjusted for dark backgrounds
    --warm-danger: #e57373;
    --warm-danger-bg: #382426;
    --warm-warning: #f5bc4c;
    --warm-warning-bg: #3b311e;
    --warm-success: #95c4ad;
    --warm-success-bg: #2c322d;
    --warm-info: #8fc1db;
    --warm-info-bg: #3e4c53;
    --warm-warning-text: #f5d28a;
    --warm-success-text: #b0dbc4;
    --warm-info-text: #b8ddef;
    --warm-secondary: #4a4545;
    --warm-secondary-hover: #5a5555;

    // Borders & Dividers
    --warm-border-color: rgba(255, 251, 247, 0.08);
    --warm-border-strong: rgba(255, 251, 247, 0.15);
    --warm-border-focus: rgba(232, 147, 123, 0.5);
    --warm-divider: rgba(255, 251, 247, 0.06);

    // Shadows - Darker for dark mode
    --warm-shadow-color: rgba(0, 0, 0, 0.25);
    --warm-shadow-color-medium: rgba(0, 0, 0, 0.35);
    --warm-shadow-color-strong: rgba(0, 0, 0, 0.45);

    // Component-specific
    --warm-input-bg: #2a2523;
    --warm-input-border: rgba(255, 251, 247, 0.15);
    --warm-input-focus-border: #e8937b;
    --warm-input-focus-ring: rgba(232, 147, 123, 0.25);

    --warm-card-bg: #2a2523;
    --warm-card-border: rgba(255, 251, 247, 0.06);

    --warm-modal-overlay: rgba(0, 0, 0, 0.7);
    --warm-modal-bg: #2a2523;

    --warm-navbar-bg: #1a1816;
    --warm-navbar-border: rgba(255, 251, 247, 0.08);

    --warm-footer-bg: #131211;
    --warm-footer-text: #e8e4e1;
    --warm-footer-muted: #8a8480;

    // Chart colors - Lightened for visibility
    --warm-chart-1: #e8937b;
    --warm-chart-2: #95c4ad;
    --warm-chart-3: #f5d9a8;
    --warm-chart-4: #f7b57d;
    --warm-chart-5: #8fc1db;
    --warm-chart-6: #d4b8e0;
    --warm-chart-grid: rgba(255, 251, 247, 0.06);
    --warm-chart-text: #b8b2ad;

    // Code/monospace
    --warm-code-bg: #2a2523;
    --warm-code-text: #e8e4e1;
    --warm-code-border: rgba(255, 251, 247, 0.08);

    // Table
    --warm-table-stripe: rgba(255, 251, 247, 0.03);
    --warm-table-hover: rgba(255, 251, 247, 0.06);
    --warm-table-border: rgba(255, 251, 247, 0.08);

    // Scrollbar
    --warm-scrollbar-track: #231f1d;
    --warm-scrollbar-thumb: rgba(255, 251, 247, 0.15);
    --warm-scrollbar-thumb-hover: rgba(255, 251, 247, 0.25);

    // Button/badge text on accent backgrounds
    --warm-btn-contrast-text: #ffffff;

    // Spinner
    --warm-spinner-track: rgba(255, 251, 247, 0.15);
  }
}

// ═══════════════════════════════════════════════════════════════════════════════
// DARK MODE - Manual Override
// Activates when user explicitly selects dark mode via toggle
// Takes precedence over system preference
// ═══════════════════════════════════════════════════════════════════════════════

:root[data-theme="dark"] {
  // Backgrounds
  --warm-bg-primary: #1a1816;
  --warm-bg-secondary: #231f1d;
  --warm-bg-tertiary: #2a2523;
  --warm-bg-accent: #332d2a;
  --warm-bg-elevated: #3a3331;
  --warm-bg-inverse: #f5f2f0;

  // Text
  --warm-text-primary: #e8e4e1;
  --warm-text-secondary: #b8b2ad;
  --warm-text-muted: #8a8480;
  --warm-text-heading: #f5f2f0;
  --warm-text-inverse: #1a1816;

  // Accents
  --warm-accent-primary: #e8937b;
  --warm-accent-primary-hover: #f0a892;
  --warm-accent-secondary: #95c4ad;
  --warm-accent-secondary-hover: #a8d4be;
  --warm-accent-tertiary: #f5d9a8;
  --warm-accent-soft: #f7b57d;

  // Semantic
  --warm-danger: #e57373;
  --warm-danger-bg: #382426;
  --warm-warning: #f5bc4c;
  --warm-warning-bg: #3b311e;
  --warm-success: #95c4ad;
  --warm-success-bg: #2c322d;
  --warm-info: #8fc1db;
  --warm-info-bg: #3e4c53;
  --warm-warning-text: #f5d28a;
  --warm-success-text: #b0dbc4;
  --warm-info-text: #b8ddef;
  --warm-secondary: #4a4545;
  --warm-secondary-hover: #5a5555;

  // Borders
  --warm-border-color: rgba(255, 251, 247, 0.08);
  --warm-border-strong: rgba(255, 251, 247, 0.15);
  --warm-border-focus: rgba(232, 147, 123, 0.5);
  --warm-divider: rgba(255, 251, 247, 0.06);

  // Shadows
  --warm-shadow-color: rgba(0, 0, 0, 0.25);
  --warm-shadow-color-medium: rgba(0, 0, 0, 0.35);
  --warm-shadow-color-strong: rgba(0, 0, 0, 0.45);

  // Components
  --warm-input-bg: #2a2523;
  --warm-input-border: rgba(255, 251, 247, 0.15);
  --warm-input-focus-border: #e8937b;
  --warm-input-focus-ring: rgba(232, 147, 123, 0.25);

  --warm-card-bg: #2a2523;
  --warm-card-border: rgba(255, 251, 247, 0.06);

  --warm-modal-overlay: rgba(0, 0, 0, 0.7);
  --warm-modal-bg: #2a2523;

  --warm-navbar-bg: #1a1816;
  --warm-navbar-border: rgba(255, 251, 247, 0.08);

  --warm-footer-bg: #131211;
  --warm-footer-text: #e8e4e1;
  --warm-footer-muted: #8a8480;

  // Charts
  --warm-chart-1: #e8937b;
  --warm-chart-2: #95c4ad;
  --warm-chart-3: #f5d9a8;
  --warm-chart-4: #f7b57d;
  --warm-chart-5: #8fc1db;
  --warm-chart-6: #d4b8e0;
  --warm-chart-grid: rgba(255, 251, 247, 0.06);
  --warm-chart-text: #b8b2ad;

  // Code
  --warm-code-bg: #2a2523;
  --warm-code-text: #e8e4e1;
  --warm-code-border: rgba(255, 251, 247, 0.08);

  // Table
  --warm-table-stripe: rgba(255, 251, 247, 0.03);
  --warm-table-hover: rgba(255, 251, 247, 0.06);
  --warm-table-border: rgba(255, 251, 247, 0.08);

  // Scrollbar
  --warm-scrollbar-track: #231f1d;
  --warm-scrollbar-thumb: rgba(255, 251, 247, 0.15);
  --warm-scrollbar-thumb-hover: rgba(255, 251, 247, 0.25);

  // Button/badge text on accent backgrounds
  --warm-btn-contrast-text: #ffffff;

  // Spinner
  --warm-spinner-track: rgba(255, 251, 247, 0.15);
}

// ─────────────────────────────────────────────────────────────────────────────────
// SCSS VARIABLES (for use in component stylesheets)
// These provide SCSS-level access to commonly used values
// ─────────────────────────────────────────────────────────────────────────────────

// Typography
$font-heading: "Lora", Georgia, serif;
$font-body:
  "Nunito",
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  sans-serif;
$font-mono: "JetBrains Mono", "Fira Code", Consolas, monospace;

// Border radius
$radius-sm: 6px;
$radius-md: 10px;
$radius-lg: 16px;
$radius-xl: 24px;
$radius-full: 9999px;

// Spacing scale
$space-1: 0.25rem; // 4px
$space-2: 0.5rem; // 8px
$space-3: 0.75rem; // 12px
$space-4: 1rem; // 16px
$space-5: 1.5rem; // 24px
$space-6: 2rem; // 32px
$space-7: 2.5rem; // 40px
$space-8: 3rem; // 48px
$space-9: 4rem; // 64px
$space-10: 5rem; // 80px

// Transitions
$transition-fast: 0.15s ease;
$transition-normal: 0.2s ease;
$transition-slow: 0.3s ease;

// Shadow definitions (using CSS variables)
$shadow-sm:
  0 1px 2px var(--warm-shadow-color),
  0 2px 4px var(--warm-shadow-color);

$shadow-md:
  0 2px 4px var(--warm-shadow-color),
  0 4px 8px var(--warm-shadow-color),
  0 8px 16px var(--warm-shadow-color);

$shadow-lg:
  0 4px 8px var(--warm-shadow-color),
  0 8px 16px var(--warm-shadow-color),
  0 16px 32px var(--warm-shadow-color-medium);

$shadow-xl:
  0 8px 16px var(--warm-shadow-color),
  0 16px 32px var(--warm-shadow-color-medium),
  0 32px 64px var(--warm-shadow-color-strong);

// ─────────────────────────────────────────────────────────────────────────────────
// GLOBAL STYLES
// Base styles that apply to the entire application
// ─────────────────────────────────────────────────────────────────────────────────

// Smooth theme transitions
*,
*::before,
*::after {
  transition: var(--theme-transition);
}

// Disable transitions on page load to prevent flash
.no-transitions,
.no-transitions *,
.no-transitions *::before,
.no-transitions *::after {
  transition: none !important;
}

// Custom scrollbar styling
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--warm-scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--warm-scrollbar-thumb);
  border-radius: $radius-full;
  border: 2px solid var(--warm-scrollbar-track);

  &:hover {
    background: var(--warm-scrollbar-thumb-hover);
  }
}

// Firefox scrollbar
* {
  scrollbar-width: thin;
  scrollbar-color: var(--warm-scrollbar-thumb) var(--warm-scrollbar-track);
}

// Focus styles
:focus-visible {
  outline: 2px solid var(--warm-accent-primary);
  outline-offset: 2px;
}

// Selection styling
::selection {
  background-color: var(--warm-accent-primary);
  color: white;
}

// Dark mode image adjustment
[data-theme="dark"] img:not(.no-dim):not(.logo-image) {
  filter: brightness(0.92);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) img:not(.no-dim):not(.logo-image) {
    filter: brightness(0.92);
  }
}
