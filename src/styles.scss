/* ═══════════════════════════════════════════════════════════════════════════════
   TECHINTERVIEW.SPACE - Global Styles
   Warm & Friendly Theme with Dark/Light Mode Support
   ═══════════════════════════════════════════════════════════════════════════════ */

/* Importing dependencies */
@use "sass:color";
@import "bootstrap/scss/bootstrap";
@import "bootstrap-icons/font/bootstrap-icons.css";
@import "_colors";
@import "_warm-theme";

/* ─────────────────────────────────────────────────────────────────────────────────
   BASE STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

html {
  scroll-behavior: smooth;
}

body {
  background-color: var(--warm-bg-primary);
  color: var(--warm-text-primary);
  font-family: $font-body;
  font-size: 1rem;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(circle, var(--warm-text-primary) 1px, transparent 1px);
  background-size: 20px 20px;
  opacity: 0.15;
  pointer-events: none;
  z-index: -1;
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: $font-heading;
  color: var(--warm-text-heading);
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 0.5em;
}

.footer-link-header {
  color: var(--warm-footer-text);
}

.display-1 {
  font-family: 'Lora', Georgia, serif;
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--warm-text-heading);
}

/* Paragraphs */
p {
  color: var(--warm-text-primary);
  margin-bottom: 1rem;
}

/* Links */
a {
  color: var(--warm-accent-primary);
  text-decoration: none;
  transition: color $transition-fast;

  &:hover {
    color: var(--warm-accent-primary-hover);
    text-decoration: underline;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   FOOTER STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

/* Sticky footer layout - footer stays at bottom */
.footer {
  flex-shrink: 0;
}

.footer-wrapper {
  background-color: var(--warm-footer-bg);
  color: var(--warm-footer-text);
}

.footer-link {
  color: var(--warm-footer-text) !important;
  text-decoration: none;
  transition: color $transition-fast, opacity $transition-fast;

  &:hover {
    color: var(--warm-accent-primary) !important;
    text-decoration: underline;
    opacity: 0.9;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   LEGACY BACKGROUND CLASSES (maintaining backward compatibility)
   ───────────────────────────────────────────────────────────────────────────────── */

.bg-petrel-light {
  background-color: var(--warm-bg-secondary);
}

.bg-petrel-primary {
  background-color: var(--warm-accent-primary);
}

.bg-petrel-dark {
  background-color: var(--warm-bg-inverse);
}

/* New warm background utility classes */
.bg-warm-primary {
  background-color: var(--warm-bg-primary);
}

.bg-warm-secondary {
  background-color: var(--warm-bg-secondary);
}

.bg-warm-tertiary {
  background-color: var(--warm-bg-tertiary);
}

.bg-warm-accent {
  background-color: var(--warm-bg-accent);
}

.bg-warm-elevated {
  background-color: var(--warm-bg-elevated);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   FORM VALIDATION STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

input.ng-touched.ng-invalid {
  @extend .is-invalid;
}

input.ng-touched.ng-valid {
  @extend .is-valid;
}

/* Form input styling */
.form-control,
.form-select {
  background-color: var(--warm-input-bg);
  border-color: var(--warm-input-border);
  color: var(--warm-text-primary);
  border-radius: $radius-md;
  transition: border-color $transition-fast, box-shadow $transition-fast;

  &:focus {
    background-color: var(--warm-input-bg);
    border-color: var(--warm-input-focus-border);
    box-shadow: 0 0 0 3px var(--warm-input-focus-ring);
    color: var(--warm-text-primary);
  }

  &::placeholder {
    color: var(--warm-text-muted);
  }

  &:disabled {
    background-color: var(--warm-bg-accent);
    color: var(--warm-text-muted);
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   MODAL STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.modal {
  background-color: var(--warm-modal-overlay);
  -webkit-animation: fadein 0.2s;
  animation: fadein 0.2s;
}

.modal-content {
  background-color: var(--warm-modal-bg);
  border: 1px solid var(--warm-border-color);
  border-radius: $radius-lg;
  box-shadow: $shadow-xl;
}

.modal-header {
  border-bottom: 1px solid var(--warm-divider);
}

.modal-footer {
  border-top: 1px solid var(--warm-divider);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   LINK STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.link-as-text {
  color: inherit;
  text-decoration: none;

  &:hover {
    color: var(--warm-accent-primary-hover) !important;
    text-decoration: underline;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   BUTTON STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.btn-huge {
  padding: 0.8rem 1.6rem;
  font-size: 1.6rem;
  border-radius: $radius-md;
}

/* Primary button - Terracotta accent */
.btn-primary,
.btn-purple {
  background-color: var(--warm-accent-primary);
  border-color: var(--warm-accent-primary);
  color: white;
  border-radius: $radius-md;
  font-weight: 600;
  transition: background-color $transition-fast, transform $transition-fast, box-shadow $transition-fast;

  &:hover {
    background-color: var(--warm-accent-primary-hover);
    border-color: var(--warm-accent-primary-hover);
    color: white;
    transform: translateY(-1px);
    box-shadow: $shadow-md;
  }

  &:active {
    transform: translateY(0);
  }

  &:focus {
    box-shadow: 0 0 0 3px var(--warm-input-focus-ring);
  }
}

/* Secondary button - Sage accent */
.btn-secondary {
  background-color: var(--warm-accent-secondary);
  border-color: var(--warm-accent-secondary);
  color: white;
  border-radius: $radius-md;
  font-weight: 600;

  &:hover {
    background-color: var(--warm-accent-secondary-hover);
    border-color: var(--warm-accent-secondary-hover);
    color: white;
  }
}

/* Outline buttons */
.btn-outline-primary {
  color: var(--warm-accent-primary);
  border-color: var(--warm-accent-primary);
  border-radius: $radius-md;

  &:hover {
    background-color: var(--warm-accent-primary);
    border-color: var(--warm-accent-primary);
    color: white;
  }
}

.btn-outline-secondary {
  color: var(--warm-accent-secondary);
  border-color: var(--warm-accent-secondary);
  border-radius: $radius-md;

  &:hover {
    background-color: var(--warm-accent-secondary);
    border-color: var(--warm-accent-secondary);
    color: white;
  }
}

/* Link-style buttons */
.btn-link-sm {
  color: inherit;
  background-color: transparent;
  border: 0;
  font-weight: 600;
  text-decoration: none;
  transition: color $transition-fast;

  &:disabled {
    color: var(--warm-text-muted);

    &:hover {
      text-decoration: none;
    }
  }

  &:hover {
    color: var(--warm-accent-primary-hover);
    text-decoration: underline;
  }

  &.btn-link-danger {
    color: var(--warm-danger);

    &:hover {
      color: color.adjust(#d95550, $lightness: -10%);
    }
  }

  &.btn-link-warning {
    color: var(--warm-warning);

    &:hover {
      color: color.adjust(#e9a820, $lightness: -10%);
    }
  }

  &.btn-link-success {
    color: var(--warm-success);

    &:hover {
      color: color.adjust(#81b29a, $lightness: -10%);
    }
  }

  &.btn-link-info {
    color: var(--warm-info);

    &:hover {
      color: color.adjust(#6fa8c7, $lightness: -10%);
      font-weight: 600;
    }
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   LIST STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

ul.no-bullets {
  list-style-type: none;
  padding: 0;
  margin: 0;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   CARD STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.card {
  background-color: var(--warm-card-bg);
  border: 1px solid var(--warm-card-border);
  border-radius: $radius-lg;
  box-shadow: $shadow-sm;
  transition: box-shadow $transition-normal, transform $transition-normal;

  &:hover {
    box-shadow: $shadow-md;
  }
}

.card-header {
  background-color: var(--warm-bg-secondary);
  border-bottom: 1px solid var(--warm-divider);
}

.card-footer {
  background-color: var(--warm-bg-secondary);
  border-top: 1px solid var(--warm-divider);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   TABLE STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.table {
  color: var(--warm-text-primary);

  > :not(caption)>*>* {
    background-color: transparent;
    border-bottom-color: var(--warm-table-border);
    color: var(--warm-text-primary);
  }

  >tbody>tr:nth-of-type(odd)>* {
    background-color: var(--warm-table-stripe);
  }

  >tbody>tr:hover>* {
    background-color: var(--warm-table-hover);
  }

  th {
    font-family: $font-heading;
    font-weight: 600;
    color: var(--warm-text-heading);
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   ALERT STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.alert-danger {
  background-color: var(--warm-danger-bg);
  border-color: var(--warm-danger);
  color: var(--warm-danger);
}

.alert-warning {
  background-color: var(--warm-warning-bg);
  border-color: var(--warm-warning);
  color: color.adjust(#e9a820, $lightness: -20%);
}

.alert-success {
  background-color: var(--warm-success-bg);
  border-color: var(--warm-success);
  color: color.adjust(#81b29a, $lightness: -20%);
}

.alert-info {
  background-color: var(--warm-info-bg);
  border-color: var(--warm-info);
  color: color.adjust(#6fa8c7, $lightness: -20%);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   BADGE STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.badge {
  font-family: $font-body;
  font-weight: 600;
  border-radius: $radius-full;
  padding: 0.35em 0.65em;
}

.badge.bg-primary {
  background-color: var(--warm-accent-primary) !important;
}

.badge.bg-secondary {
  background-color: var(--warm-accent-secondary) !important;
}

.badge.bg-danger {
  background-color: var(--warm-danger) !important;
}

.badge.bg-warning {
  background-color: var(--warm-warning) !important;
  color: #2d2d2d;
}

.badge.bg-success {
  background-color: var(--warm-success) !important;
}

.badge.bg-info {
  background-color: var(--warm-info) !important;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   SPACING UTILITIES
   ───────────────────────────────────────────────────────────────────────────────── */

.mt-7 {
  margin-top: $space-7;
}

.mt-8 {
  margin-top: $space-8;
}

.mt-9 {
  margin-top: $space-9;
}

.mt-10 {
  margin-top: $space-10;
}

.px-10 {
  padding-left: $space-10;
  padding-right: $space-10;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   WIDTH UTILITIES
   ───────────────────────────────────────────────────────────────────────────────── */

.w-30 {
  width: 30%;
}

.w-80 {
  width: 80%;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   MOBILE RESPONSIVE UTILITIES
   ───────────────────────────────────────────────────────────────────────────────── */

.mobile-mb-3 {
  margin-bottom: inherit;
}

@media (max-width: 768px) {
  .mobile-mb-3 {
    margin-bottom: 36px;
  }
}

.mobile-px-5 {
  padding-left: 3rem !important;
  padding-right: 3rem !important;

  @media (max-width: 768px) {
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
  }
}

.mobile-py-5 {
  padding-top: 3rem !important;
  padding-bottom: 3rem !important;

  @media (max-width: 768px) {
    padding-top: 1.5rem !important;
    padding-bottom: 1.5rem !important;
  }
}

.mobile-w-30 {
  width: 30% !important;

  @media (max-width: 768px) {
    width: 100% !important;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   INTERACTIVE EFFECTS
   ───────────────────────────────────────────────────────────────────────────────── */

.increasable-on-hover {
  transition: transform $transition-normal, box-shadow $transition-normal;
  cursor: pointer;

  &:hover {
    transform: scale(1.05);
    box-shadow: $shadow-md;
  }
}

/* Subtle lift effect for cards and interactive elements */
.hover-lift {
  transition: transform $transition-normal, box-shadow $transition-normal;

  &:hover {
    transform: translateY(-4px);
    box-shadow: $shadow-lg;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   TEXT UTILITIES
   ───────────────────────────────────────────────────────────────────────────────── */

.text-warm-primary {
  color: var(--warm-text-primary);
}

.text-warm-secondary {
  color: var(--warm-text-secondary);
}

.text-warm-muted {
  color: var(--warm-text-muted);
}

.text-warm-heading {
  color: var(--warm-text-heading);
}

.text-accent-primary {
  color: var(--warm-accent-primary);
}

.text-accent-secondary {
  color: var(--warm-accent-secondary);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   SHADOW UTILITIES
   ───────────────────────────────────────────────────────────────────────────────── */

.shadow-warm-sm {
  box-shadow: $shadow-sm;
}

.shadow-warm-md {
  box-shadow: $shadow-md;
}

.shadow-warm-lg {
  box-shadow: $shadow-lg;
}

.shadow-warm-xl {
  box-shadow: $shadow-xl;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   CODE STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

code {
  background-color: var(--warm-code-bg);
  color: var(--warm-code-text);
  border: 1px solid var(--warm-code-border);
  border-radius: $radius-sm;
  padding: 0.15em 0.4em;
  font-family: $font-mono;
  font-size: 0.875em;
}

pre {
  background-color: var(--warm-code-bg);
  border: 1px solid var(--warm-code-border);
  border-radius: $radius-md;
  padding: 1rem;
  overflow-x: auto;

  code {
    background-color: transparent;
    border: none;
    padding: 0;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   DIVIDER STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

hr {
  border-color: var(--warm-divider);
  opacity: 1;
}

/* ─────────────────────────────────────────────────────────────────────────────────
   DROPDOWN STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.dropdown-menu {
  background-color: var(--warm-card-bg);
  border: 1px solid var(--warm-border-color);
  border-radius: $radius-md;
  box-shadow: $shadow-lg;
}

.dropdown-item {
  color: var(--warm-text-primary);
  transition: background-color $transition-fast;

  &:hover,
  &:focus {
    background-color: var(--warm-bg-accent);
    color: var(--warm-text-primary);
  }

  &.active,
  &:active {
    background-color: var(--warm-accent-primary);
    color: white;
  }
}

.dropdown-divider {
  border-color: var(--warm-divider);
}

/* ─────────────────────────────────────────────────────────────────────────────────
   NAV/TAB STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.nav-tabs {
  border-bottom-color: var(--warm-border-color);

  .nav-link {
    color: var(--warm-text-secondary);
    border-radius: $radius-md $radius-md 0 0;
    transition: color $transition-fast, background-color $transition-fast;

    &:hover {
      color: var(--warm-accent-primary);
      border-color: transparent;
    }

    &.active {
      color: var(--warm-accent-primary);
      background-color: var(--warm-bg-primary);
      border-color: var(--warm-border-color) var(--warm-border-color) var(--warm-bg-primary);
    }
  }
}

.nav-pills {
  .nav-link {
    color: var(--warm-text-secondary);
    border-radius: $radius-md;

    &:hover {
      background-color: var(--warm-bg-accent);
      color: var(--warm-text-primary);
    }

    &.active {
      background-color: var(--warm-accent-primary);
      color: white;
    }
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   PAGINATION STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.pagination {
  .page-link {
    color: var(--warm-text-primary);
    background-color: var(--warm-bg-elevated);
    border-color: var(--warm-border-color);
    border-radius: $radius-md;
    margin: 0 2px;
    transition: all $transition-fast;

    &:hover {
      background-color: var(--warm-bg-accent);
      border-color: var(--warm-accent-primary);
      color: var(--warm-accent-primary);
    }
  }

  .page-item.active .page-link {
    background-color: var(--warm-accent-primary);
    border-color: var(--warm-accent-primary);
    color: white;
  }

  .page-item.disabled .page-link {
    color: var(--warm-text-muted);
    background-color: var(--warm-bg-secondary);
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   BREADCRUMB STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.breadcrumb {
  background-color: transparent;

  .breadcrumb-item {
    color: var(--warm-text-secondary);

    a {
      color: var(--warm-accent-primary);

      &:hover {
        color: var(--warm-accent-primary-hover);
      }
    }

    &.active {
      color: var(--warm-text-muted);
    }

    +.breadcrumb-item::before {
      color: var(--warm-text-muted);
    }
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   TOOLTIP STYLES
   ───────────────────────────────────────────────────────────────────────────────── */

.tooltip {
  .tooltip-inner {
    background-color: var(--warm-bg-inverse);
    color: var(--warm-text-inverse);
    border-radius: $radius-sm;
    font-family: $font-body;
    font-size: 0.875rem;
    padding: 0.5rem 0.75rem;
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   ANIMATION KEYFRAMES
   ───────────────────────────────────────────────────────────────────────────────── */

@keyframes fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─────────────────────────────────────────────────────────────────────────────────
   NG-SELECT BOOTSTRAP-LIKE STYLES (commented out, preserved for reference)
   ───────────────────────────────────────────────────────────────────────────────── */
/* https://github.com/ng-select/ng-select/issues/1955#issuecomment-1240459808 */
/*.form-floating {
  position: relative;

  .ng-select-container {
    height: calc(3.5rem + 2px) !important;
    line-height: 1.25;
  }

  label {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    padding: 1rem 0.75rem;
    overflow: hidden;
    text-align: start;
    text-overflow: ellipsis;
    white-space: nowrap;
    pointer-events: none;
    border: 1px solid transparent;
    transform-origin: 0 0;
    transition: opacity 0.1s ease-in-out, transform 0.1s ease-in-out;
  }

  .ng-select-container {
    padding-top: 1.625rem;
    padding-bottom: .625rem;

    .ng-input {
        top: unset !important;
    }
  }

  ng-select {
    ~label {
        opacity: 0.65;
        transform: scale(0.85) translateY(-0.5rem) translateX(0.15rem);
        z-index: 1001;
    }

    &:focus .ng-select-container {
        border-color: var(--warm-accent-primary);
        outline: 0;
        box-shadow: 0 0 0 0.25rem var(--warm-input-focus-ring);
    }

    &.is-valid .ng-select-container {
        border-color: var(--warm-success) !important;
    }

    &.is-valid.ng-select-focused .ng-select-container {
        box-shadow: 0 0 0 0.25rem rgba(129, 178, 154, 0.25);
    }

    &.is-invalid .ng-select-container {
        border-color: var(--warm-danger) !important;
    }

    &.is-invalid.ng-select-focused .ng-select-container {
        box-shadow: 0 0 0 0.25rem rgba(217, 85, 80, 0.25);
    }
  }
}*/